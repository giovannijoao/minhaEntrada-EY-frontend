// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                  String                @id @default(auto()) @map("_id") @db.ObjectId
  email               String                @unique
  firstName           String
  lastName            String
  password            String
  JornadaSubscription JornadaSubscription[]
  AulaProgress        AulaProgress[]
}

model JornadaSubscription {
  id           String         @id @default(auto()) @map("_id") @db.ObjectId
  user         User           @relation(fields: [userId], references: [id])
  userId       String         @db.ObjectId
  jornadaId    String         @db.ObjectId
  AulaProgress AulaProgress[]
}

model AulaProgress {
  id                   String              @id @default(auto()) @map("_id") @db.ObjectId
  user                 User                @relation(fields: [userId], references: [id])
  userId               String              @db.ObjectId
  jornadaSubscription  JornadaSubscription @relation(fields: [jornadaSubcriptionId], references: [id])
  jornadaSubcriptionId String              @db.ObjectId
  trilhaId             Int
  aulaId               Int
  isFinished           Boolean             @default(false)
}
